---
layout: post
title: "Avoiding the clean boilerplate: Welcome Project Lombok"
date: 2016-10-08 18:00:40 +01:00
categories: android
author: Guillermo Orellana
comments: true
tags: android,lombok,clean
---

Looks like nowadays, clean is the trend. Clean eating, clean lifting, clean architecture...

<blockquote class="twitter-tweet" data-lang="en"><p lang="es" dir="ltr">Todas las charlas que menciona Clean Architecture <a href="https://twitter.com/hashtag/CleanHype?src=hash">#CleanHype</a> <a href="https://twitter.com/hashtag/DroidconMAD?src=hash">#DroidconMAD</a> <a href="https://t.co/gvr1yMqj8o">pic.twitter.com/gvr1yMqj8o</a></p>— Antonio López Marín (@tonilopezmr) <a href="https://twitter.com/tonilopezmr/status/754348235150491649">July 16, 2016</a></blockquote>
<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>



# The pain



# Project Lombok

[Project Lombok](https://projectlombok.org/) is magic made code. Well, it's actually an annotation processor that generates code, but instead of creating derivated clases we have to guess (I am looking at you, Dagger2), it *injects* the generated code in our class. Told you, Magic!

# Project Lombok and Android

In order to use it in you Android project, head to the [project download webpage](https://projectlombok.org/download.html) and get the coordinates to the latest version. If you are using the Gradle apt plugin, you might need to add its entry as well. It might look like this:

```groovy
provided "org.projectlombok:lombok:1.12.6" // or latest version
apt "org.projectlombok:lombok:1.12.6" // only if using gradle-apt
```

Project Lombok needs little to no configuration, but there are some special cases we need to consider when using it in Android. In order to customise the behaviour of Lombok, we can put a file named `lombok.config` in one of the roots of our project. I usually have it at the root of the module or modules that actually make use of Lombok, since we might choose not to use it in all of them.

## Generating way too many things

### java.beans.ConstructorProperties

Android lacks of the beans package (thankfully), so when you try to use one of the constructor family annotations, you will get a compile time error similar to this one:

```
Error:(9, 1) error: cannot find symbol class ConstructorProperties
```

In order to disable such annotations from generating, just add this line to your `lombok.config`:

```
lombok.anyConstructor.suppressConstructorProperties = true
```

### javax.annotation.Generated

Yes, there is an annotation to say that something was generated by an annotation processor ([*Inception* sound](http://inception.davepedu.com/)). Of course, there is a reason for this: Annotation processors are applied in *rounds*, so the output of one annotation processor may be processed by other annotation processors or even by itself on further rounds! (more [*Inception* sound](http://inception.davepedu.com/)). In order to avoid going too many levels deep, generated code is annotated so the processors can distinguish it and decide wether process it or not.

The problem is, Android does not bundle this one either. You can go for the easy solution, which is not generating them at all:

```
lombok.addGeneratedAnnotation = false
```
Or the probably correct one, which is adding a dependency that contains this annotation to your build. Don't worry, it's retention is `SOURCE`, which means it won't go to your class files (and eventually your DEX files).

```groovy
provided "javax.annotation:jsr250-api:1.0"
```

# Comparison

# Alternatives

# Gains
